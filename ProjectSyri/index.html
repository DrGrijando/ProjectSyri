<!DOCTYPE html>
<html>
<head>    	
    <title></title>
    <meta charset="utf-8" />
    <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
    <link href="styles/main.css" rel="stylesheet" />
    <link href="styles/icons.css" rel="stylesheet" />

    <script src="cordova.js"></script>
    <script src="Plugins/cordova-plugin-local-notifications-master/www/local-notification.js" type="text/javascript"></script>
    <script src="kendo/js/jquery.min.js"></script>
    <script src="kendo/js/kendo.mobile.min.js"></script>
    
    <script>
     new kendo.mobile.Application($(document.body), {
         platform: "ios7"
     });
        
    </script>
    
    <script>
        var vaccines=[];
        var prescriptions=[];
        var record=[];
    </script>
    <script src="scripts/app.js"></script>
    <script type="text/javascript" src="scripts/functions.js"></script>    
</head>
<body onload="loadData();">
    
    <!-- LOGIN SCREEN -->
    <div id="login" data-role="view" data-layout="Layout4">
        <ul id="login-fields" data-role="listview">
            <li data-icon="mail">
                <input id="login-user-input" type="text" placeholder="User" onclick="resetInputBackground();"/>
            </li>            
            <li data-icon="key">
                <input id="login-password-input" type="password" placeholder="Password" onclick="resetInputBackground();"/>
            </li>
        </ul>
        <br>
        <div id="login-error-text" class="login-error">Ok</div>
        <div class="wrapper-center">
            <a data-role="button" onclick="login();">Sign in</a>
            <a data-role="button" onclick="deleteLoginInfo();">Delete login</a>
        </div>
    </div>
    
    <!-- VACCINES TAB -->    
    <div id="tabstrip-vaccines" data-role="view" data-layout="Layout1">
        <h1>Vaccines</h1>
        <ul id="vaccine-list" data-role="listview" data-style="inset">
            <li data-icon="plus" id="add-vaccine-listitem">
                <a id="add-vaccine-button" href="#add-vaccine-view" data-transition="slide">Add vaccine...</a>
            </li>
        </ul>       
    </div>
    
    <!-- PRESCRIPTIONS TAB -->
    <div id="tabstrip-prescriptions" data-role="view" data-layout="Layout1">
        <h1>Prescriptions</h1>
        <ul id="prescription-list" data-role="listview" data-style="inset">
            <li data-icon="plus" id="add-prescription-listitem">
                <a id="add-prescription-button" href="#add-prescription-view" data-transition="slide">Add prescription...</a>
            </li>
        </ul>
    </div>
    
    <!-- RECORD TAB -->
    <div id="tabstrip-record" data-role="view" data-layout="Layout1">
        <h1>Record</h1>
        <ul id="record-list" data-role="listview" data-style="inset">
            <li data-icon="plus" id="add-phr-listitem">
                <a id="add-phr-button" href="#add-phr-view" data-transition="slide">Add PHR...</a>
            </li>
        </ul>
    </div>
    
    <!-- OPTIONS SCREEN -->
    <div id="options" data-role="view" data-layout="Layout4">
        <ul id="option-list" data-role="listview" data-style="inset">
            <li>
                <label>
                    <input type="text" id="options-user-input"/>aaaida user
                </label>
            </li>
            <li>
                <label>
                    <input type="password" id="options-password-input"/>aaaida password
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" id="confirm-deletions-checkbox" value="true" checked/>Confirm deletions
                </label>
            </li>
            <li>
                <label>
                    <div>Language</div>
                    <select>
                        <option value="esp">Spanish</option>
                        <option value="cat">Catalan</option>
                        <option value="eng">English</option>
                    </select>
                </label>                
            </li><br>
            <div class="wrapper-center">
                <a data-role="button" onClick="saveSettings();">Return</a>
                <div></div>
            </div>
        </ul>
    </div>    
    
    <!-- VIEW TO ADD NEW VACCINES -->
    <div id="add-vaccine-view" data-role="view" data-layout="Layout2">
        <h1>New vaccine</h1>
        <p>Add a new vaccine to your schedule by introducing the following data.</p>
        <ul id="vaccine-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="new-vaccine-title" type="text" placeholder="Vaccine for..." />
            </li>
            <li data-icon="calendar">
                <input id="new-vaccine-date" type="date" placeholder="Enter the date..." />
            </li>
            <li data-icon="recents">
                <input id="new-vaccine-time" type="time" placeholder="Enter the time..." />
            </li>
        </ul>
        <div>
            <span>Notify me...</span>
            <input id="new-vaccine-notification-time" type="number" class="prescription-dose-input"/>
            <select id="new-vaccine-notification-time-measure">
                <option value="minute">minutes</option>
                <option value="hour">hour(s)</option>
            </select>
            <span>before the time.</span>
        </div>
    </div>
    
    <!-- VIEW TO ADD NEW PRESCRIPTIONS -->
    <div id="add-prescription-view" data-role="view" data-layout="Layout3">
        <h1>New prescription</h1>
        <p>Add a new prescription for a recent vaccine or medication.</p>
        <ul id="prescription-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="new-prescription-title" type="text" placeholder="Enter the medicine..." />
            </li>            
            <li data-icon="calendar">
                <input id="new-prescription-date" type="date"/>
            </li>
            <li data-icon="calendar">
                <input id="new-prescription-final-date" type="date"/>
            </li>        
            <li data-icon="dose" class="prescription-dose-block">
                <input id="new-prescription-dose-takes" class="prescription-dose-input" type="number"/>
                <select id="new-prescription-dose-takes-measure">
                    <option value="pill(s)">pill(s)</option>
                    <option value="ml">ml</option>
                </select>
                <input id="new-prescription-dose-frequency" class="prescription-dose-input" type="number"/>
                <select id="new-prescription-dose-frequency-measure">
                    <option value="hour(s)">hour(s)</option>
                    <option value="day(s)">day(s)</option>
                </select>
            </li>
            <li data-icon="compose">
                <textarea id="new-prescription-text" placeholder="Enter the text..."></textarea>
            </li>
        </ul>        
        <div id="new-prescription-dose-block" class="prescription-dose-block">
            <input id="new-prescription-dose-takes" class="prescription-dose-input" type="number"/>
            <select id="new-prescription-dose-takes-measure">
                <option value="pill(s)">pill(s)</option>
                <option value="ml">ml</option>
            </select>
            <input id="new-prescription-dose-frequency" class="prescription-dose-input" type="number"/>
            <select id="new-prescription-dose-frequency-measure">
                <option value="hour(s)">hour(s)</option>
                <option value="day(s)">day(s)</option>
            </select>
        </div>
        
    </div>
    
    <!-- VIEW TO ADD PHRs -->
    <div id="add-phr-view" data-role="view" data-layout="Layout6">
        <h1>New PHR</h1>
        <p>Add a new personal history record.</p>
        <ul id="phr-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="new-phr-title" type="text" placeholder="Enter the title..." />
            </li>            
            <li data-icon="calendar">
                <input id="new-phr-date" type="date"/>
            </li>            
            <li data-icon="compose">
                <textarea id="new-phr-text" placeholder="Enter the text..."></textarea>
            </li>
        </ul>        
    </div>    
    
    <!-- VIEW TO SEE DETAILED VACCINES -->
    <div id="detailed-vaccine-view" data-role="view" data-layout="Layout5" data-transition="slide:up">
        <h1>Vaccine</h1>
        <p>See all the information of your vaccines just touching them</p>
        <ul id="vaccine-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="detailed-vaccine-title" type="text" placeholder="Vaccine for..."/>
            </li>
            <li data-icon="calendar">
                <input id="detailed-vaccine-date" type="date"/>
            </li>
            <li data-icon="recents">
                <input id="detailed-vaccine-time" type="time"/>
            </li>
        </ul>
    </div>
    
    <!-- VIEW TO SEE DETAILED PRESCRIPTIONS -->
    <div id="detailed-prescription-view" data-role="view" data-layout="Layout5" data-transition="slide:up">
        <h1>Prescription</h1>
        <p>See all the information of your prescriptions just touching them.</p>
        <ul id="prescription-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="detailed-prescription-title" type="text" palceholder="Enter the medicine..."/>
            </li>            
            <li data-icon="calendar">
                <input id="detailed-prescription-date" type="date"/>
            </li>
            <li data-icon="calendar">
                <input id="detailed-prescription-final-date" type="date"/>
            </li>            
            <li data-icon="compose">
                <textarea id="detailed-prescription-text" placeholder="Enter the text..."></textarea>
            </li>
        </ul>
        <div id="detailed-prescription-dose-block" class="prescription-dose-block">
            <input id="detailed-prescription-dose-takes" class="prescription-dose-input" type="number"/>
            <select id="detailed-prescription-dose-takes-measure">
                <option value="pill(s)">pill(s)</option>
                <option value="ml">ml</option>
            </select>
            <input id="detailed-prescription-dose-frequency" class="prescription-dose-input" type="number"/>
            <select id="detailed-prescription-dose-frequency-measure">
                <option value="hour(s)">hour(s)</option>
                <option value="day(s)">day(s)</option>
            </select>
        </div>
    </div>
    
    <!-- VIEW TO SEE DETAILED PHRs -->
    <div id="detailed-phr-view" data-role="view" data-layout="Layout7" data-transition="slide:up">
        <h1>Personal history record</h1>
        <p>See all the information of your PHRs just touching them.</p>
        <ul id="phr-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="detailed-phr-title" type="text" placeholder="Enter the title..."/>
            </li>            
            <li data-icon="calendar">
                <input id="detailed-phr-date" type="date"/>
            </li>
            <li data-icon="compose">
                <textarea id="detailed-phr-text" placeholder="Enter the text..."></textarea>
            </li>
        </ul>        
    </div>
    
    <!-- VIEW TO SEE DETAILED RECORD VACCINES -->
    <div id="detailed-record-vaccine-view" data-role="view" data-layout="Layout8" data-transition="slide:up">
        <h1>Vaccine</h1>
        <p>See all the information of your vaccines just touching them</p>
        <ul id="record-vaccine-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="detailed-record-vaccine-title" type="text" placeholder="Vaccine for..."/>
            </li>
            <li data-icon="calendar">
                <input id="detailed-record-vaccine-date" type="date"/>
            </li>
            <li data-icon="recents">
                <input id="detailed-record-vaccine-time" type="time"/>
            </li>
        </ul>
    </div>
    
    <!-- VIEW TO SEE DETAILED RECORD PRESCRIPTIONS -->
    <div id="detailed-record-prescription-view" data-role="view" data-layout="Layout9" data-transition="slide:up">
        <h1>Prescription</h1>
        <p>See all the information of your prescriptions just touching them.</p>
        <ul id="record-prescription-entries" data-role="listview" data-style="inset">
            <li data-icon="label">
                <input id="detailed-record-prescription-title" type="text" palceholder="Enter the medicine..."/>
            </li>            
            <li data-icon="calendar">
                <input id="detailed-record-prescription-date" type="date"/>
            </li>
            <li data-icon="calendar">
                <input id="detailed-record-prescription-final-date" type="date"/>
            </li>            
            <li data-icon="compose">
                <textarea id="detailed-record-prescription-text" placeholder="Enter the text..."></textarea>
            </li>
        </ul>
        <div id="detailed-record-prescription-dose-block" class="prescription-dose-block">
            <input id="detailed-record-prescription-dose-takes" class="prescription-dose-input" type="number"/>
            <select id="detailed-record-prescription-dose-takes-measure">
                <option value="pill(s)">pill(s)</option>
                <option value="ml">ml</option>
            </select>
            <input id="detailed-record-prescription-dose-frequency" class="prescription-dose-input" type="number"/>
            <select id="detailed-record-prescription-dose-frequency-measure">
                <option value="hour(s)">hour(s)</option>
                <option value="day(s)">day(s)</option>
            </select>
        </div>
    </div>
        
    <!-- LAYOUTS -->
    <!-- Elements contained in the layout are shared between views using the same layout -->
    
    <!-- LAYOUT 1: TAB LAYOUT -->    
    <div data-id="Layout1" data-role="layout" height="100%">    		
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <a id="settings-button" data-role="button" data-icon="settings" href="#options" onclick="loadData();"></a>
                <div class="header-content">VacApp</div>           
                <a id="cloud-button" data-role="button" data-icon="cloud"></a>                    
            </div>
        </div>
        
        <div data-role="footer">
            <div data-role="tabstrip">
                <a data-icon="cross" href="#tabstrip-vaccines" data-transition="slide:right">Vaccines</a>
                <a data-icon="medic" href="#tabstrip-prescriptions" data-transition="slide">Prescriptions</a>
                <a data-icon="folder" href="#tabstrip-record" data-transition="slide:left">Record</a>
            </div>            
        </div>
    </div>
    
    <!-- LAYOUT 2: ADD VACCINES -->
    <div data-id="Layout2" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="plus" onclick="addNewVaccine();">Save</a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();">Cancel</a>
        </div>
    </div>
    
    <!-- LAYOUT 3: ADD PRESCRIPTIONS -->
    <div data-id="Layout3" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="plus" onclick="addNewPrescription();">Save</a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();">Cancel</a>
        </div>
    </div>
    
    <!-- LAYOUT 4: WITHOUT BUTTONS -->
    <div data-id="Layout4" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>            
            </div>
        </div>
    </div>
    
    <!-- LAYOUT 5: DETAILED VIEWS -->
    <div data-id="Layout5" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="fastforward" onclick="moveToRecord();">Move to record</a>
            <a data-role="button" data-icon="download" onclick="saveElementChanges();">Save</a>
            <a data-role="button" data-icon="trash" onclick="deleteElement();"></a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();"></a>
        </div>
    </div>
    
    <!-- LAYOUT 6: ADD PHRs -->
    <div data-id="Layout6" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="plus" onclick="addNewPHR();">Save</a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();">Cancel</a>
        </div>
    </div>
    
    <!-- LAYOUT 7: DETAILED RECORD LAYOUTS(NO "MOVE TO RECORD" BUTTON) -->
    <div data-id="Layout7" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="download" onclick="saveElementChanges();">Save</a>
            <a data-role="button" data-icon="trash" onclick="deleteElement();"></a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();"></a>
        </div>
    </div>
    
    <!-- LAYOUT 8: DETAILED RECORD VACCINES -->
    <div data-id="Layout8" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="history" onclick="moveToVaccines();">Restore</a>
            <a data-role="button" data-icon="download" onclick="saveElementChanges();">Save</a>
            <a data-role="button" data-icon="trash" onclick="deleteElement();"></a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();"></a>
        </div>
    </div>
    
    <!-- LAYOUT 9: DETAILED RECORD PRESCRIPTIONS -->
    <div data-id="Layout9" data-role="layout">
        <div class="header-wrapper" data-role="header">
            <div class="header">
                <div class="header-content">VacApp</div>
            </div>
        </div>
        <div class="wrapper-center footer" data-role="footer">
            <a data-role="button" data-icon="history" onclick="moveToPrescriptions();">Restore</a>
            <a data-role="button" data-icon="download" onclick="saveElementChanges();">Save</a>
            <a data-role="button" data-icon="trash" onclick="deleteElement();"></a>
            <!-- This button goes to the last visited page, so we can use it for both add vaccine/add prescription
                 views, because in any case we will go back to the tab we were in -->
            <a data-role="button" data-icon="reply" onclick="goBack();"></a>
        </div>
    </div>
</body>
</html>
